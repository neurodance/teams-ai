---
sidebar_position: 1
summary: Guide to handling Teams-specific activities like chat messages, card actions, and installs using the fluent router API.
title: Listening to Activities
---

# Listening To Activities

An **Activity** is the Teams‑specific payload that flows between the user and your bot.
Where _events_ describe high‑level happenings inside your app, _activities_ are the raw Teams messages such as chat text, card actions, installs, or invoke calls.

<LanguageInclude section="intro" />

```mermaid
flowchart LR
    Teams["Teams"]:::less-interesting
    Server["App Server"]:::interesting
    ActivityRouter["Activity Router (app.on())"]:::interesting
    Handlers["Your Activity Handlers"]:::interesting

    Teams --> |Events| Server
    Server --> |Activity Event| ActivityRouter
    ActivityRouter --> |handler invoked| Handlers

    classDef interesting fill:#b1650f,stroke:#333,stroke-width:4px;
    classDef less-interesting fill:#666,stroke:#333,stroke-width:4px;
```

Here is an example of a basic message handler:

<LanguageInclude section="basic-example" />

<LanguageInclude section="example-explanation" />

## Middleware pattern

<LanguageInclude section="middleware-intro" />

<LanguageInclude section="middleware-examples" />

:::info
Just like other middlewares, if you stop the chain by not calling `next()`, the activity will not be passed to the next handler. The order of registration for the handlers also matters as that determines how the handlers will be called.
:::

<LanguageInclude section="activity-reference-footer" />
